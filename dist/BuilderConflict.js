import{joinOperations as t,operation as e}from"./services/OperationService.js";import{Builder as i}from"./Builder.js";export class BuilderConflict extends i{constructor(t=[],e){super(),this.conflictDoNothing=!1,this.internalColumn(...t),this.conflictWhereExpression=e}doNothing(){return this.conflictDoNothing=!0,this}set(t,i){return this.setsOperations.push(e({type:"SET",identifier:t,expression:i})),this}where(...t){return this.internalWhere(...t)}getOperations(){let i=["ON CONFLICT "];return this.columnsOperations.length>0&&i.push(...t(this.columnsOperations,", ",!0)," "),void 0!==this.conflictWhereExpression&&i.push("WHERE ",...e(this.conflictWhereExpression)," "),i.push(this.conflictDoNothing?"DO NOTHING":"DO UPDATE "),this.generateSetOperation(i),this.generateWhereOperation(i),i}}